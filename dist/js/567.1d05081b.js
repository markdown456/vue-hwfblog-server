(self["webpackChunkmyblog"]=self["webpackChunkmyblog"]||[]).push([[567],{7567:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"el-icon-arrow-left"},[e._v("编辑文章")]),n("el-form",{attrs:{"label-width":"80px",model:e.articleInfo}},[n("el-form-item",{attrs:{label:"序号"}},[n("el-input",{attrs:{disabled:""},model:{value:e.articleInfo.id,callback:function(t){e.$set(e.articleInfo,"id",t)},expression:"articleInfo.id"}})],1),n("el-form-item",{attrs:{label:"文章标题"}},[n("el-input",{model:{value:e.articleInfo.title,callback:function(t){e.$set(e.articleInfo,"title",t)},expression:"articleInfo.title"}})],1),n("el-form-item",{attrs:{label:"类型"}},[n("el-input",{model:{value:e.articleInfo.type,callback:function(t){e.$set(e.articleInfo,"type",t)},expression:"articleInfo.type"}})],1),n("el-form-item",{attrs:{label:"日期"}},[n("el-input",{attrs:{placeholder:"/例如2022-3-20"},model:{value:e.articleInfo.date,callback:function(t){e.$set(e.articleInfo,"date",t)},expression:"articleInfo.date"}})],1),n("el-form-item",{attrs:{label:"图片地址"}},[n("el-input",{model:{value:e.articleInfo.imgUrl,callback:function(t){e.$set(e.articleInfo,"imgUrl",t)},expression:"articleInfo.imgUrl"}})],1),n("el-form-item",{attrs:{label:"标签"}},[n("el-input",{model:{value:e.articleInfo.label,callback:function(t){e.$set(e.articleInfo,"label",t)},expression:"articleInfo.label"}})],1),n("el-form-item",{attrs:{label:"文章内容"}},[n("quill-editor",{model:{value:e.articleInfo.content,callback:function(t){e.$set(e.articleInfo,"content",t)},expression:"articleInfo.content"}})],1),e.flag?n("el-button",{staticClass:"btnAdd",attrs:{type:"primary"},on:{click:function(t){return e.addArticle()}}},[e._v("添加文章")]):n("el-button",{staticClass:"btnAdd",attrs:{type:"primary"},on:{click:function(t){return e.addArticle()}}},[e._v("修改文章")])],1)],1)},r=[],i=n(6198),a=(n(8862),n(5666),{data:function(){return{flag:sessionStorage.isAddArticle,articleInfo:{id:0,title:"",type:"",date:"",imgUrl:"",label:[],content:""}}},created:function(){this.articleInfo.id=window.sessionStorage.articleListLength,JSON.parse(this.flag)||(this.getEditArticle(),console.log("请求数据成功"))},mounted:function(){},methods:{addArticle:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("admin/addArticle",e.articleInfo);case 2:if(n=t.sent,200==n.status){t.next=5;break}return t.abrupt("return",e.$message.error(n.msg));case 5:e.$message.success(n.msg);case 6:case"end":return t.stop()}}),t)})))()},getEditArticle:function(){console.log(window.sessionStorage.editRow),console.log(JSON.stringify(window.sessionStorage.editRow)),this.articleInfo=JSON.parse(window.sessionStorage.editRow),console.log(this.articleInfo)}},watch:{$route:function(){}}}),o=a,c=n(1001),s=(0,c.Z)(o,l,r,!1,null,"779c5152",null),u=s.exports},8862:function(e,t,n){var l=n(2109),r=n(7854),i=n(5005),a=n(2104),o=n(1702),c=n(7293),s=r.Array,u=i("JSON","stringify"),f=o(/./.exec),d=o("".charAt),m=o("".charCodeAt),p=o("".replace),g=o(1..toString),b=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,h=/^[\uDC00-\uDFFF]$/,v=function(e,t,n){var l=d(n,t-1),r=d(n,t+1);return f(I,e)&&!f(h,r)||f(h,e)&&!f(I,l)?"\\u"+g(m(e,0),16):e},w=c((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&l({target:"JSON",stat:!0,forced:w},{stringify:function(e,t,n){for(var l=0,r=arguments.length,i=s(r);l<r;l++)i[l]=arguments[l];var o=a(u,null,i);return"string"==typeof o?p(o,b,v):o}})}}]);
//# sourceMappingURL=567.1d05081b.js.map