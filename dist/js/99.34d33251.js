"use strict";(self["webpackChunkmyblog"]=self["webpackChunkmyblog"]||[]).push([[99],{99:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("h3",{staticClass:"el-icon-arrow-left"},[e._v("编辑文章")]),l("el-form",{attrs:{"label-width":"80px",model:e.articleInfo}},[l("el-form-item",{attrs:{label:"文章标题"}},[l("el-input",{model:{value:e.articleInfo.title,callback:function(t){e.$set(e.articleInfo,"title",t)},expression:"articleInfo.title"}})],1),l("el-form-item",{attrs:{label:"类型"}},[l("el-input",{model:{value:e.articleInfo.type,callback:function(t){e.$set(e.articleInfo,"type",t)},expression:"articleInfo.type"}})],1),l("el-form-item",{attrs:{label:"日期"}},[l("el-input",{attrs:{placeholder:"/例如2022-3-20"},model:{value:e.articleInfo.date,callback:function(t){e.$set(e.articleInfo,"date",t)},expression:"articleInfo.date"}})],1),l("el-form-item",{attrs:{label:"图片地址"}},[l("el-input",{model:{value:e.articleInfo.imgUrl,callback:function(t){e.$set(e.articleInfo,"imgUrl",t)},expression:"articleInfo.imgUrl"}})],1),l("el-form-item",{attrs:{label:"标签"}},[l("el-input",{model:{value:e.articleInfo.label,callback:function(t){e.$set(e.articleInfo,"label",t)},expression:"articleInfo.label"}})],1),l("el-form-item",{attrs:{label:"文章内容"}},[l("quill-editor",{model:{value:e.articleInfo.content,callback:function(t){e.$set(e.articleInfo,"content",t)},expression:"articleInfo.content"}})],1),e.flag?l("el-button",{staticClass:"btnAdd",attrs:{type:"primary"},on:{click:function(t){return e.addArticle()}}},[e._v("添加文章")]):l("el-button",{staticClass:"btnAdd",attrs:{type:"primary"},on:{click:function(t){return e.addArticle()}}},[e._v("修改文章")])],1)],1)},r=[],a=l(6198),i=(l(5666),{data:function(){return{flag:JSON.parse(sessionStorage.isAddArticle),articleInfo:{_id:"",title:"",type:"",date:"",imgUrl:"",label:[],content:""}}},created:function(){this.articleInfo.id=window.sessionStorage.articleListLength,this.flag||(this.getEditArticle(),console.log("请求数据成功"))},mounted:function(){},methods:{addArticle:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("admin/addArticle",e.articleInfo);case 2:if(l=t.sent,200==l.status){t.next=5;break}return t.abrupt("return",e.$message.error(l.msg));case 5:e.$message.success(l.msg),e.$router.push("/articlelist");case 7:case"end":return t.stop()}}),t)})))()},getEditArticle:function(){this.articleInfo=JSON.parse(window.sessionStorage.editRow),console.log(this.articleInfo)}},watch:{$route:function(){}}}),o=i,c=l(1001),s=(0,c.Z)(o,n,r,!1,null,"29473d39",null),u=s.exports}}]);
//# sourceMappingURL=99.34d33251.js.map