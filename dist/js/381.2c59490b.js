"use strict";(self["webpackChunkmyblog"]=self["webpackChunkmyblog"]||[]).push([[381],{2381:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header",attrs:{id:"hd"}},[n("div",{staticClass:"nav"},[t._m(0),n("div",{staticClass:"navbar",attrs:{id:"daohang"}},[n("el-menu",{class:[{"el-menu-demo":!0},t.flag?"animate":"animateb"],attrs:{id:"daohangc",mode:t.mode},on:{select:t.handleSelect}},[n("el-menu-item",{attrs:{index:"1"},on:{click:function(e){return t.goToAnchor("#article")}}},[t._v("文章")]),n("el-menu-item",{attrs:{index:"2"},on:{click:function(e){return t.toNotes()}}},[t._v(" 笔记 ")]),n("el-menu-item",{attrs:{index:"3"},on:{click:function(e){return t.toLogin()}}},[t._v(" 登录 ")]),n("el-menu-item",{attrs:{index:"4"}},[n("router-link",{attrs:{to:"/register"}},[t._v("注册")])],1),n("el-menu-item",{attrs:{index:"5"},on:{click:function(e){return t.logout()}}},[t._v("退出 ")])],1)],1),n("i",{staticClass:"el-icon-menu",attrs:{id:"btn"},on:{click:function(e){return t.displayNav()}}}),n("div",{staticClass:"search",attrs:{id:"ss"}},[n("el-input",{attrs:{placeholder:"搜索"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[t._v("")])],1)])]),n("router-view"),t._m(1)],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo",attrs:{id:"tubiao"}},[n("a",{attrs:{href:"#"}},[t._v("Mountain Blog")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer",attrs:{id:"ft"}},[n("div",{staticClass:"fcontent"},[n("ul",[n("li",[n("a",{attrs:{href:"http://www.qq.com"}},[n("span",{staticClass:"qq"})])]),n("li",[n("a",{attrs:{href:"http://www.weibo.com"}},[n("span",{staticClass:"weibo"})])]),n("li",[n("a",{attrs:{href:"https://github.com/markdown123"}},[n("span",{staticClass:"github"})])])]),n("div",{staticClass:"secondfloor"},[n("a",{attrs:{href:"https://www.csdn.net"}},[t._v("友情链接")]),n("a",{attrs:{href:"#"}},[t._v("关于我")])]),n("p",[t._v("© Huang Weifeng 2022 . All rights reserved.")])])])}],s=n(6198),a=(n(5666),{inject:["reload"],data:function(){return{flag:!1,activeIndex:"1",input:"",isLogin:!1,AllArticleList:[],mode:"horizontal",screenWidth:document.body.clientWidth}},created:function(){this.getAllArticle()},mounted:function(){var t=this;window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,t.screenWidth=window.screenWidth}()}},methods:{handleSelect:function(t,e){},showImage:function(t){var e=t.path[0].id;this.$refs.carousel.setActiveItem(e)},goToAnchor:function(t){this.$el.querySelector(t)?this.$el.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"}):this.$router.push("/home")},toNotes:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={email:t.$store.state.loginForm.email,token:sessionStorage.getItem("token")},e.next=3,t.$http.post("admin/notes",n);case 3:if(i=e.sent,t.isLogin=i.isValid,i.isValid){e.next=9;break}return t.$message.error("请先登录"),t.$router.push("/login"),e.abrupt("return");case 9:t.$router.push("/notes");case 10:case"end":return e.stop()}}),e)})))()},toLogin:function(){sessionStorage.getItem("token")&&this.$store.state.loginForm.email?this.$message.success("您已经登录"):this.$router.push("/login")},logout:function(){sessionStorage.clear("token"),this.$router.push("/login")},getAllArticle:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("admin/articleList");case 2:n=e.sent,t.AllArticleList=n;case 4:case"end":return e.stop()}}),e)})))()},toArticleDetail:function(t){this.$router.push("/article/"+t)},displayNav:function(){this.flag=!this.flag}},watch:{screenWidth:function(t){if(!this.timer){this.screenWidth=t,this.mode=t<870?"vertical":"horizontal",this.timer=!0;var e=this;setTimeout((function(){e.timer=!1}),400)}this.reload()}}}),o=a,c=n(1001),l=(0,c.Z)(o,i,r,!1,null,"46820dd4",null),u=l.exports}}]);
//# sourceMappingURL=381.2c59490b.js.map