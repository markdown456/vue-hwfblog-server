"use strict";(self["webpackChunkmyblog"]=self["webpackChunkmyblog"]||[]).push([[327],{2327:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"el-icon-arrow-left"},[e._v("编辑文章")]),n("el-form",{attrs:{"label-width":"80px",model:e.articleInfo}},[n("el-form-item",{attrs:{label:"序号"}},[n("el-input",{attrs:{disabled:""},model:{value:e.articleInfo.id,callback:function(t){e.$set(e.articleInfo,"id",t)},expression:"articleInfo.id"}})],1),n("el-form-item",{attrs:{label:"文章标题"}},[n("el-input",{model:{value:e.articleInfo.title,callback:function(t){e.$set(e.articleInfo,"title",t)},expression:"articleInfo.title"}})],1),n("el-form-item",{attrs:{label:"类型"}},[n("el-input",{model:{value:e.articleInfo.type,callback:function(t){e.$set(e.articleInfo,"type",t)},expression:"articleInfo.type"}})],1),n("el-form-item",{attrs:{label:"日期"}},[n("el-input",{attrs:{placeholder:"/例如2022-3-20"},model:{value:e.articleInfo.date,callback:function(t){e.$set(e.articleInfo,"date",t)},expression:"articleInfo.date"}})],1),n("el-form-item",{attrs:{label:"图片地址"}},[n("el-input",{model:{value:e.articleInfo.imgUrl,callback:function(t){e.$set(e.articleInfo,"imgUrl",t)},expression:"articleInfo.imgUrl"}})],1),n("el-form-item",{attrs:{label:"标签"}},[n("el-input",{model:{value:e.articleInfo.label,callback:function(t){e.$set(e.articleInfo,"label",t)},expression:"articleInfo.label"}})],1),n("el-form-item",{attrs:{label:"文章内容"}},[n("quill-editor",{model:{value:e.articleInfo.content,callback:function(t){e.$set(e.articleInfo,"content",t)},expression:"articleInfo.content"}})],1),e.flag?n("el-button",{staticClass:"btnAdd",attrs:{type:"primary"},on:{click:function(t){return e.addArticle()}}},[e._v("添加文章")]):n("el-button",{staticClass:"btnAdd",attrs:{type:"primary"},on:{click:function(t){return e.addArticle()}}},[e._v("修改文章")])],1)],1)},r=[],a=n(6198),i=(n(5666),{data:function(){return{flag:sessionStorage.isAddArticle,articleInfo:{id:0,title:"",type:"",date:"",imgUrl:"",label:[],content:""}}},created:function(){this.articleInfo.id=window.sessionStorage.articleListLength,JSON.parse(this.flag)||(this.getEditArticle(),console.log("请求数据成功"))},mounted:function(){},methods:{addArticle:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("admin/addArticle",e.articleInfo);case 2:if(n=t.sent,200==n.status){t.next=5;break}return t.abrupt("return",e.$message.error(n.msg));case 5:e.$message.success(n.msg);case 6:case"end":return t.stop()}}),t)})))()},getEditArticle:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=window.sessionStorage.editId,t.next=3,e.$http.get("admin/editArticle/"+n);case 3:l=t.sent,console.log(l),e.articleInfo=l;case 6:case"end":return t.stop()}}),t)})))()}},watch:{$route:function(){}}}),o=i,c=n(1001),s=(0,c.Z)(o,l,r,!1,null,"a2f0fa16",null),u=s.exports}}]);
//# sourceMappingURL=327.ef0e9588.js.map