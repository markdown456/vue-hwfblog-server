(self["webpackChunkmyblog"]=self["webpackChunkmyblog"]||[]).push([[251],{7251:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return u}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h3",{staticClass:"el-icon-arrow-left"},[t._v("文章列表")]),r("div",{staticClass:"header"},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.toAddArticle(t.allArticleList.length)}}},[t._v("添加文章")]),r("el-input",{attrs:{placeholder:"请输入文章标题","prefix-icon":"el-icon-search"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1),r("div",{staticClass:"content"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.allArticleList}},[r("el-table-column",{attrs:{prop:"id",label:"序号",width:"50"}}),r("el-table-column",{attrs:{prop:"title",label:"文章标题",width:"150"}}),r("el-table-column",{attrs:{prop:"type",label:"类型",width:"50"}}),r("el-table-column",{attrs:{prop:"date",label:"日期",width:"150"}},[t._v(" "+t._s(t._f("dateFormat")("2022/3/14"))+" ")]),r("el-table-column",{attrs:{prop:"imgUrl",label:"图片地址",width:"150"}}),r("el-table-column",{attrs:{prop:"label",label:"标签",width:"150"}}),r("el-table-column",{attrs:{prop:"operate",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return t.toEditArticle(e.row)}}}),r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return t.deleteArticle(e.row._id)}}})]}}])})],1)],1)])},i=[],l=r(6198),o=(r(5666),r(1539),r(4747),{data:function(){return{input2:"",allArticleList:[]}},created:function(){this.getArticleList()},methods:{getArticleList:function(){var t=this;return(0,l.Z)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("dsss"),e.next=3,t.$http.get("admin/allarticle");case 3:r=e.sent,t.allArticleList=r,t.allArticleList.forEach((function(t,e){t.id=e})),console.log(t.allArticleList);case 7:case"end":return e.stop()}}),e)})))()},toAddArticle:function(t){console.log("跳转"),window.sessionStorage.setItem("activePath","2-2"),window.sessionStorage.setItem("articleListLength",t),window.sessionStorage.setItem("isAddArticle",!0),this.$router.push("/edit")},toEditArticle:function(t){window.sessionStorage.setItem("editRow",t),window.sessionStorage.setItem("isAddArticle",!1),this.$router.push("/edit")},deleteArticle:function(t){var e=this;return(0,l.Z)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(t),r.next=3,e.$http.get("admin/deleteArticle/"+t);case 3:if(n=r.sent,200==n.status){r.next=6;break}return r.abrupt("return",e.$message.error(n.msg));case 6:e.$message.success(n.msg);case 7:case"end":return r.stop()}}),r)})))()}}}),a=o,s=r(1001),c=(0,s.Z)(a,n,i,!1,null,"fb8773f6",null),u=c.exports},8533:function(t,e,r){"use strict";var n=r(2092).forEach,i=r(9341),l=i("forEach");t.exports=l?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},9341:function(t,e,r){"use strict";var n=r(7293);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},4747:function(t,e,r){var n=r(7854),i=r(8324),l=r(8509),o=r(8533),a=r(8880),s=function(t){if(t&&t.forEach!==o)try{a(t,"forEach",o)}catch(e){t.forEach=o}};for(var c in i)i[c]&&s(n[c]&&n[c].prototype);s(l)}}]);
//# sourceMappingURL=251.805e9a04.js.map